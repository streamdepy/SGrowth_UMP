<main class="flex flex-col self-center mb-16 mt-16 w-full max-w-[1256px] ml-48 max-md:ml-0 max-md:mt-10 max-md:max-w-full">
  <header class="flex gap-3.5 self-start">
    <img
      src="https://api.builder.io/api/v1/image/assets/TEMP/c44af07e3c930c7fea223a8eb981ce2b2a5a5a8c?width=462"
      alt="GRI Governance icon"
      class="object-contain shrink-0 my-auto rounded-full aspect-[1.04] w-[78px]"
    />
    <div class="flex flex-col">
      <h2 class="text-4xl font-semibold text-black">GRI Material</h2>
      <p class="text-xl font-medium leading-none text-gray-500">
        Material Performance
      </p>
    </div>
  </header>

    <section class="flex flex-col items-start py-14 px-16 mt-10 w-full bg-white rounded-2xl shadow-2xl max-w-[981px] max-md:px-5">
    <h3 class="text-3xl font-semibold text-teal-700">
        GRI Material â€“ Impact Assessment
    </h3>
    <p class="mt-3 text-gray-500">
        Fill in the information related to impact identification methods, significance of negative and positive impacts, and mitigation actions taken.
    </p>

    <form id="gri-material-form" class="w-full mt-8 space-y-8">
        <!-- 4. Mitigation Actions -->
        <div class="space-y-3">
        <label class="block font-medium text-neutral-900">
            Actions to prevent or mitigate potential negative impacts
        </label>
        <p class="text-xs text-gray-500">
            Select the actions taken and explain briefly.
        </p>

        <div class="grid grid-cols-2 gap-3 max-md:grid-cols-1">
            <label class="flex items-center gap-2 cursor-pointer">
            <input type="checkbox" value="process_adjustment"
                    class="w-4 h-4 rounded border-gray-400 text-teal-600 focus:ring-teal-600" />
            <span class="text-sm text-neutral-900">Process or operation adjustment</span>
            </label>
            <label class="flex items-center gap-2 cursor-pointer">
            <input type="checkbox" value="facility_upgrade"
                    class="w-4 h-4 rounded border-gray-400 text-teal-600 focus:ring-teal-600" />
            <span class="text-sm text-neutral-900">Facility / infrastructure upgrade</span>
            </label>
            <label class="flex items-center gap-2 cursor-pointer">
            <input type="checkbox" value="training"
                    class="w-4 h-4 rounded border-gray-400 text-teal-600 focus:ring-teal-600" />
            <span class="text-sm text-neutral-900">Training / capacity building</span>
            </label>
            <label class="flex items-center gap-2 cursor-pointer">
            <input type="checkbox" value="early_warning_system"
                    class="w-4 h-4 rounded border-gray-400 text-teal-600 focus:ring-teal-600" />
            <span class="text-sm text-neutral-900">Early warning system / monitoring</span>
            </label>
            <label class="flex items-center gap-2 cursor-pointer">
            <input type="checkbox" value="policy_change"
                    class="w-4 h-4 rounded border-gray-400 text-teal-600 focus:ring-teal-600" />
            <span class="text-sm text-neutral-900">Policy change / strengthening</span>
            </label>
            <label class="flex items-center gap-2 cursor-pointer">
            <input type="checkbox" id="mitigation_other" value="others"
                    class="w-4 h-4 rounded border-gray-400 text-teal-600 focus:ring-teal-600" />
            <span class="text-sm text-neutral-900">Others</span>
            </label>
        </div>

        <input
            type="text"
            id="mitigation_other_text"
            placeholder="If 'Others' is selected, specify the other mitigation actions here"
            class="hidden w-full px-8 py-4 mt-2 text-base text-black rounded-2xl border-gray-300 border border-solid bg-slate-50 placeholder-black/50 outline-none hover:ring focus:ring-2 focus:ring-teal-600 transition"
        />

        <textarea
            rows="4"
            placeholder="Describe the actions taken, timeline, and responsible unit."
            class="w-full px-8 py-4 mt-2 text-base text-black rounded-2xl border-gray-300 border border-solid bg-slate-50 placeholder-black/50 outline-none hover:ring focus:ring-2 focus:ring-teal-600 transition resize-y"
        ></textarea>
        </div>
    </form>
      <div class="flex justify-end gap-4 mt-8 w-full">
        <button
          type="button"
          onclick="window.history.back()"
          class="px-8 py-2 text-base font-medium text-center text-teal-700 border-teal-700 border border-solid whitespace-nowrap bg-white rounded-xl hover:bg-teal-700 hover:text-white focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-colors"
        >
          Previous
        </button>
        
        <button
          type="submit"
          class="px-8 py-2 text-base font-medium text-center text-white bg-lime-500 rounded-xl hover:bg-lime-600 transition"
        >
          Submit
        </button>
      </div>
    </section>

</main>

<script>
document.addEventListener('DOMContentLoaded', () => {
  // toggle "metode lain"
  const methodOther = document.getElementById('method_other');
  const methodOtherText = document.getElementById('method_other_text');
  if (methodOther && methodOtherText) {
    const sync = () => {
      const show = methodOther.checked;
      methodOtherText.classList.toggle('hidden', !show);
      if (!show) methodOtherText.value = '';
    };
    methodOther.addEventListener('change', sync);
    sync();
  }

  // toggle "mitigasi lain"
  const mitLain = document.getElementById('mitigasi_lainnya');
  const mitLainText = document.getElementById('mitigasi_lainnya_text');
  if (mitLain && mitLainText) {
    const syncM = () => {
      const show = mitLain.checked;
      mitLainText.classList.toggle('hidden', !show);
      if (!show) mitLainText.value = '';
    };
    mitLain.addEventListener('change', syncM);
    syncM();
  }
});

  // Example: Calculate total emissions and update the summary
  const grossEmissionsInput = document.getElementById('gross_emissions');
  const biogenicEmissionsInput = document.getElementById('biogenic_emissions');

  function updateTotalEmissions() {
    const grossEmissions = parseFloat(grossEmissionsInput.value) || 0;
    const biogenicEmissions = parseFloat(biogenicEmissionsInput.value) || 0;

    const totalEmissions = grossEmissions + biogenicEmissions;

    document.getElementById('total_gross_emissions').innerText = grossEmissions.toFixed(4);
    document.getElementById('total_biogenic_emissions').innerText = biogenicEmissions.toFixed(4);
    document.getElementById('total_emissions').innerText = totalEmissions.toFixed(4);
  }

  grossEmissionsInput.addEventListener('input', updateTotalEmissions);
  biogenicEmissionsInput.addEventListener('input', updateTotalEmissions);
</script>

