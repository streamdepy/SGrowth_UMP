<main class="flex flex-col self-center mb-16 mt-16 w-full max-w-[1256px] ml-48 max-md:ml-0 max-md:mt-10 max-md:max-w-full">
  <header class="flex gap-3.5 self-start">
    <img
      src="https://api.builder.io/api/v1/image/assets/TEMP/c44af07e3c930c7fea223a8eb981ce2b2a5a5a8c?width=462"
      alt="GRI Governance icon"
      class="object-contain shrink-0 my-auto rounded-full aspect-[1.04] w-[78px]"
    />
    <div class="flex flex-col">
      <h2 class="text-4xl font-semibold text-black">GRI Governance</h2>
      <p class="text-xl font-medium leading-none text-gray-500">
        Governance Performance
      </p>
    </div>
  </header>

  <!-- GRI 205-1 — Operasi dengan Risiko Terkait Korupsi -->
  <section class="flex flex-col items-start py-14 px-16 mt-10 w-full bg-white rounded-2xl shadow-2xl max-w-[981px] max-md:px-5">
    <h3 class="text-3xl font-semibold text-teal-700">
      GRI 205-1 — Operations with Risks Related to Corruption
    </h3>
    <p class="mt-3 text-gray-500">
      Fill in information related to corruption risk assessment, high-risk operations, and mitigation measures.
    </p>

    <form id="gov-basic-form" class="w-full mt-8 space-y-6">
      <!-- Row 1: Total operations & business units/branches assessed -->
      <div class="grid grid-cols-2 gap-5 max-md:grid-cols-1">
        <div>
          <label class="block pb-2 text-base font-medium">
            Total number of operations assessed
            <span class="text-xs text-gray-400 ml-1">(GRI 205-1(a))</span>
          </label>
          <input
            type="number"
            min="0"
            placeholder="e.g., 25"
            class="w-full px-8 py-4 rounded-2xl border border-gray-300 bg-slate-50 outline-none
            hover:ring focus:ring-2 focus:ring-teal-600 transition"
          />
          <p class="mt-1 text-xs text-gray-400">
            Enter the total number of operations assessed for corruption risk.
          </p>
        </div>

        <div>
          <label class="block pb-2 text-base font-medium">
            Business units/branches assessed
          </label>
          <textarea
            rows="3"
            placeholder="e.g., Head Office, Jakarta Branch, Surabaya Branch"
            class="w-full px-8 py-4 rounded-2xl border border-gray-300 bg-slate-50 placeholder-black/50 outline-none resize-y
            hover:ring focus:ring-2 focus:ring-teal-600 transition"
          ></textarea>
          <p class="mt-1 text-xs text-gray-400">
            Specify the business unit/branch or location of operations that have been assessed.
          </p>
        </div>
      </div>

      <!-- Row 2: High-risk operations & percentage -->
      <div class="grid grid-cols-2 gap-5 max-md:grid-cols-1">
        <div>
          <label class="block pb-2 text-base font-medium">
            Number of high-risk operations
            <span class="text-xs text-gray-400 ml-1">(GRI 205-1(b))</span>
          </label>
          <input
            type="number"
            min="0"
            id="high_risk_ops"
            placeholder="e.g., 5"
            class="w-full px-8 py-4 rounded-2xl border border-gray-300 bg-slate-50 outline-none
            hover:ring focus:ring-2 focus:ring-teal-600 transition"
          />
          <p class="mt-1 text-xs text-gray-400">
            The number of operations categorized as high risk for corruption.
          </p>
        </div>

        <div>
          <label class="block pb-2 text-base font-medium">
            Percentage of high-risk operations
          </label>
          <div class="relative">
            <input
              type="number"
              min="0"
              max="100"
              step="0.01"
              id="high_risk_percentage"
              placeholder="0"
              class="w-full px-8 py-4 pr-12 rounded-2xl border border-gray-300 bg-slate-50 outline-none
              hover:ring focus:ring-2 focus:ring-teal-600 transition"
            />
            <span class="absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none">%</span>
          </div>
          <p class="mt-1 text-xs text-gray-400">
            Formula: number of high-risk operations ÷ total operations × 100 (manual entry based on company calculation).
          </p>
        </div>
      </div>

      <!-- Row 3: Significant risk types found -->
      <div>
        <label class="block pb-2 text-base font-medium text-neutral-900">
          Types of significant risks found
          <span class="text-xs text-gray-400 ml-1">(GRI 205-1(c))</span>
        </label>

        <p class="mb-3 text-xs text-gray-500">
          Check relevant risks and provide explanations.
        </p>

        <div class="space-y-6">
          <!-- TEMPLATE RISK ITEM -->
          <!-- Bribery -->
          <div class="flex flex-col md:flex-row md:items-start gap-3">
            <label class="flex items-center gap-2 md:w-3/12 cursor-pointer">
              <input
                type="checkbox"
                id="risk_suap"
                class="w-4 h-4 rounded border-gray-400 text-teal-600 focus:ring-teal-600"
              />
              <span class="text-base text-neutral-900">Bribery</span>
            </label>

            <textarea
              id="risk_suap_desc"
              rows="2"
              placeholder="Describe an example of bribery risk..."
              class="hidden md:w-9/12 w-full px-8 py-4 rounded-2xl border border-gray-300 bg-slate-50 placeholder-black/50 outline-none
                    hover:ring focus:ring-2 focus:ring-teal-600 transition"
            ></textarea>
          </div>

          <!-- Gratification -->
          <div class="flex flex-col md:flex-row md:items-start gap-3">
            <label class="flex items-center gap-2 md:w-3/12 cursor-pointer">
              <input
                type="checkbox"
                id="risk_gratifikasi"
                class="w-4 h-4 rounded border-gray-400 text-teal-600 focus:ring-teal-600"
              />
              <span class="text-base text-neutral-900">Gratification</span>
            </label>

            <textarea
              id="risk_gratifikasi_desc"
              rows="2"
              placeholder="Describe an example of gratification risk..."
              class="hidden md:w-9/12 w-full px-8 py-4 rounded-2xl border border-gray-300 bg-slate-50 placeholder-black/50 outline-none
                    hover:ring focus:ring-2 focus:ring-teal-600 transition"
            ></textarea>
          </div>

          <!-- Conflict of Interest -->
          <div class="flex flex-col md:flex-row md:items-start gap-3">
            <label class="flex items-center gap-2 md:w-3/12 cursor-pointer">
              <input
                type="checkbox"
                id="risk_konflik"
                class="w-4 h-4 rounded border-gray-400 text-teal-600 focus:ring-teal-600"
              />
              <span class="text-base text-neutral-900">Conflict of Interest</span>
            </label>

            <textarea
              id="risk_konflik_desc"
              rows="2"
              placeholder="Describe an example of conflict of interest risk..."
              class="hidden md:w-9/12 w-full px-8 py-4 rounded-2xl border border-gray-300 bg-slate-50 placeholder-black/50 outline-none
                    hover:ring focus:ring-2 focus:ring-teal-600 transition"
            ></textarea>
          </div>

          <!-- Tender Collusion -->
          <div class="flex flex-col md:flex-row md:items-start gap-3">
            <label class="flex items-center gap-2 md:w-3/12 cursor-pointer">
              <input
                type="checkbox"
                id="risk_kolusi"
                class="w-4 h-4 rounded border-gray-400 text-teal-600 focus:ring-teal-600"
              />
              <span class="text-base text-neutral-900">Tender Collusion</span>
            </label>

            <textarea
              id="risk_kolusi_desc"
              rows="2"
              placeholder="Describe an example of tender collusion risk..."
              class="hidden md:w-9/12 w-full px-8 py-4 rounded-2xl border border-gray-300 bg-slate-50 placeholder-black/50 outline-none
                    hover:ring focus:ring-2 focus:ring-teal-600 transition"
            ></textarea>
          </div>

          <!-- Others -->
          <div class="flex flex-col md:flex-row md:items-start gap-3">
            <label class="flex items-center gap-2 md:w-3/12 cursor-pointer">
              <input
                type="checkbox"
                id="risk_lainnya"
                class="w-4 h-4 rounded border-gray-400 text-teal-600 focus:ring-teal-600"
              />
              <span class="text-base text-neutral-900">Others</span>
            </label>

            <textarea
              id="risk_lainnya_desc"
              rows="2"
              placeholder="Specify other risks..."
              class="hidden md:w-9/12 w-full px-8 py-4 rounded-2xl border border-gray-300 bg-slate-50 placeholder-black/50 outline-none
                    hover:ring focus:ring-2 focus:ring-teal-600 transition"
            ></textarea>
          </div>
        </div>
      </div>

      <!-- Row 4: Mitigation actions & follow-up -->
      <div>
        <label class="block pb-2 text-base font-medium">
          Follow-up and mitigation actions
        </label>
        <textarea
          rows="5"
          placeholder="Describe prevention steps, internal controls, additional training, or new policies implemented."
          class="w-full px-8 py-4 rounded-2xl border border-gray-300 bg-slate-50 placeholder-black/50 outline-none resize-y
          hover:ring focus:ring-2 focus:ring-teal-600 transition"
        ></textarea>
        <p class="mt-1 text-xs text-gray-400">
          Explain how the company responds to and reduces identified corruption risks.
        </p>
      </div>

      <!-- Buttons (optional, customize for your flow) -->
      <div class="flex justify-end gap-4 mt-8 w-full">
        <button
          type="submit"
          class="px-8 py-2 text-base font-medium text-center text-white bg-lime-500 rounded-xl hover:bg-lime-600 transition">
          Next
        </button>
      </div>
    </form>
  </section>
</main>

<script>
  // Opsional: auto-highlight persentase kalau >100 atau <0 (validasi ringan)
  document.addEventListener('DOMContentLoaded', () => {
    const perc = document.getElementById('high_risk_percentage');

    if (perc) {
      perc.addEventListener('input', () => {
        const v = parseFloat(perc.value);
        const invalid = isNaN(v) || v < 0 || v > 100;
        perc.classList.toggle('ring-2', invalid);
        perc.classList.toggle('ring-red-500', invalid);
      });
    }
  });
</script>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const riskPairs = [
    { checkId: 'risk_suap', textId: 'risk_suap_desc' },
    { checkId: 'risk_gratifikasi', textId: 'risk_gratifikasi_desc' },
    { checkId: 'risk_konflik', textId: 'risk_konflik_desc' },
    { checkId: 'risk_kolusi', textId: 'risk_kolusi_desc' },
    { checkId: 'risk_lainnya', textId: 'risk_lainnya_desc' },
  ];

  riskPairs.forEach(p => {
    const cb = document.getElementById(p.checkId);
    const tx = document.getElementById(p.textId);
    if (!cb || !tx) return;

    const sync = () => {
      const show = cb.checked;
      tx.classList.toggle("hidden", !show);
      if (!show) tx.value = "";
    };

    cb.addEventListener("change", sync);
    sync();
  });
});
</script>

